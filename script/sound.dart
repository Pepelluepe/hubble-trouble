library sound;

import 'dart:js';


// Build new ones at http://egonelbre.com/project/jsfx/
var waves = {
    'bastacorp': ["saw",0.0000,0.1930,0.0000,0.2680,0.0000,0.0040,110.0000,878.0000,2400.0000,-0.9000,0.0000,0.0000,0.0100,0.0003,0.0000,0.0000,0.0000,0.5000,-0.2960,0.0000,0.0000,0.0000,1.0000,0.0000,0.0000,0.0000,0.0000],
    'select': ["square",2.0000,0.1930,0.0000,0.0020,0.5760,0.2760,20.0000,850.0000,2400.0000,0.0000,0.0000,0.0000,0.0100,0.0003,0.0000,0.0000,0.0000,0.0000,0.0000,0.0000,0.0000,0.0000,1.0000,0.0000,0.0000,0.0000,0.0000],
    'collect': ["square",0.0000,0.0520,0.0000,0.0320,0.4920,0.3600,20.0000,1320.0000,2400.0000,0.0000,0.0000,0.0000,0.0100,0.0003,0.0000,0.2620,0.1050,0.0000,0.0000,0.0000,0.0000,0.0000,1.0000,0.0000,0.0000,0.0000,0.0000],
    'keypress': ["noise",0.0000,0.0540,0.0000,0.0140,0.7560,0.0460,20.0000,1691.0000,2400.0000,-0.2680,0.0000,0.0000,0.0100,0.0003,0.0000,0.0000,0.0000,0.0000,0.0000,0.0000,-0.1320,-0.1860,1.0000,0.0000,0.0000,0.0000,0.0000],
    'bad_choice': ["saw",0.0000,0.1760,0.0000,0.0460,0.3600,0.5200,20.0000,943.0000,2400.0000,-0.3180,0.0000,0.0000,0.0100,0.0003,0.0000,0.0000,0.0000,0.0000,0.0000,0.0000,0.0000,0.0000,1.0000,0.0000,0.0000,0.2010,0.0000],
    'invalid_choice': ["synth",0.0000,0.1760,0.0000,0.0000,0.0000,0.0860,1622.0000,1033.0000,662.0000,-0.6120,0.6920,0.5090,41.9533,0.1667,0.4380,-0.1700,0.1250,0.0195,0.6580,0.5488,0.2760,0.8280,0.9710,-0.0340,0.8140,0.9720,-0.5340],
    'menu_down': ["square",0.0000,0.1760,0.0000,0.0240,0.0810,0.0660,20.0000,767.0000,2400.0000,0.0000,0.0000,0.0000,0.0100,0.0003,0.0000,0.5760,0.1450,0.0000,0.0000,0.0000,0.0000,0.0000,1.0000,0.0000,0.0000,0.0000,0.0000],
    'menu_up': ["square",0.0000,0.1760,0.0000,0.0240,0.0810,0.0660,20.0000,767.0000,2400.0000,0.2280,0.1680,0.0000,0.0100,0.0003,0.0000,0.5760,0.1450,0.0000,0.0000,0.0000,0.0000,0.0000,1.0000,0.0000,0.0000,0.0000,0.0000],
    'backspace': ["square",0.0000,0.1760,0.0000,0.0160,0.0000,0.0160,162.0000,309.0000,2400.0000,-0.8960,0.0000,0.0000,0.0100,0.0003,0.0000,0.0000,0.0000,0.5000,-0.5860,0.0000,0.0000,0.0000,1.0000,0.0000,0.0000,0.0000,0.0000],
    'move': ["sine",0.0000,0.1760,0.0000,0.0120,0.0000,0.2220,20.0000,174.0000,2400.0000,0.4140,0.0000,0.0000,0.0100,0.0003,0.0000,0.0000,0.0000,0.5000,-0.6960,0.0000,0.0000,0.0000,1.0000,0.0000,0.0000,0.0000,0.0000],
    'bump': ["square",0.0000,0.0970,0.0000,0.0160,0.0000,0.0660,20.0000,358.0000,2400.0000,-0.6060,0.0000,0.0000,0.0100,0.0003,0.0000,0.0000,0.0000,0.5000,0.0000,0.0000,0.0000,0.0000,1.0000,0.0000,0.0000,0.1590,0.0000],
    'tick': ["sine",0.0000,0.0520,0.0000,0.0000,0.0000,0.0540,20.0000,140.0000,613.0000,-1.0000,-1.0000,0.0000,0.0100,0.0003,0.0000,0.7140,0.0000,0.0000,0.0000,0.0000,0.0000,0.0000,1.0000,0.0000,0.0000,0.0000,0.0000],
};

JsObject _jsfxInst = null;

Map<String, JsObject> samples = {};

void init() {
    _jsfxInst = new JsObject(context['JSFX']);

    for (var wave in waves.keys) {
        samples[wave] = _jsfxInst.callMethod(
            'getSample',
            [new JsObject.jsify(waves[wave])]
        );
    }
}

void play(String name) {
    _jsfxInst.callMethod('playSample', [samples[name]]);
}
